<div class="container-fluid">
  <%= form_with model: @form, url: admin_users_path, method: :post, local: true do |f| %>
    <div class="row">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title fw-bold">Create Profile</h3>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="user_forms_create_user_form_name">Name</label>
                  <%= f.text_field :name, class: "form-control", placeholder: "Name" %>
                  <% if @form.errors[:name].any? %>
                    <div class="text-danger"><%= @form.errors[:name].first %></div>
                  <% end %>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="user_forms_create_user_form_email">Email address</label>
                  <%= f.email_field :email, class: "form-control", placeholder: "Email" %>
                  <% if @form.errors[:email].any? %>
                    <div class="text-danger"><%= @form.errors[:email].first %></div>
                  <% end %>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="user_forms_create_user_form_address">Address</label>
                  <%= f.text_field :address, class: "form-control", placeholder: "Home Address" %>
                  <% if @form.errors[:address].any? %>
                    <div class="text-danger"><%= @form.errors[:address].first %></div>
                  <% end %>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="user_forms_create_user_form_phone_number">Phone number</label>
                  <%= f.telephone_field :phone_number, class: "form-control", placeholder: "Phone number" %>
                  <% if @form.errors[:phone_number].any? %>
                    <div class="text-danger"><%= @form.errors[:phone_number].first %></div>
                  <% end %>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="user_forms_create_user_form_birth_day">Birth day</label>
                  <%= f.date_field :birth_day, class: "form-control", data: { date_format: "YYYY MMMM DD" } %>
                  <% if @form.errors[:birth_day].any? %>
                    <div class="text-danger"><%= @form.errors[:birth_day].first %></div>
                  <% end %>
                </div>
              </div>
            </div>

            <button type="submit" class="btn btn-success btn-fill pull-right">Create Profile</button>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card card-user">
          <div class="card-body text-center">
            <div class="author mt-0">
              <div class="position-relative">
                <!-- New user chưa có avatar => show default -->
                <img class="avatar border-gray avatar-hover-edit" src="/images/avatar-default.png" alt="...">
                <div class="avatar-edit position-absolute">
                  <%= f.file_field :avatar, accept: "image/*", class: "form-control" %>
                  <label for="user_forms_create_user_form_avatar">Choose a file</label>
                </div>
              </div>
              <h5 class="title">
                New User
              </h5>
            </div>
          </div>
          <hr>
          <div class="button-container mr-auto ml-auto">
            <button href="#" class="btn btn-simple btn-link btn-icon">
              <i class="fa fa-facebook-square"></i>
            </button>
            <button href="#" class="btn btn-simple btn-link btn-icon">
              <i class="fa fa-twitter"></i>
            </button>
            <button href="#" class="btn btn-simple btn-link btn-icon">
              <i class="fa fa-google-plus-square"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>

<% content_for :css do %>
  <link rel="stylesheet" href="<%= asset_path 'admin/user/edit.css' %>">
<% end %>

<% content_for :javascripts do %>
  <script>
    $(document).ready(function() {
      $('#user_forms_create_user_form_avatar').change(function() {
        var reader = new FileReader();
        reader.onload = function(e) {
          $('.avatar').attr('src', e.target.result);
        }
        reader.readAsDataURL(this.files[0]);
      });
    });
  </script>
<% end %>
